<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Client-Side Data Storage</title>

		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/monokai.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<style>
		.twocol {
			display: grid;
			grid-template-columns: 1fr 1fr;
		}

		html.intro h2 {
			background-color: rgba(0,0,0,0.7);
		}

		</style>

	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-background="img/raider.jpg" data-state="intro">
					<h2>Client-Side Data Storage</h2>
				</section>

				<section>
					<h2>read.me</h2>
					<ul>
						<li>Lead Developer Evangelist for HERE</li>
						<li>Enterprise Cat Demo Builder</li>
						<li>Second best "Just Dance 2019" player (in my house)</li>
						<li>Blogging at www.raymondcamden.com</li>
						<li>Tweeting @raymondcamden</li>
					</ul>
				</section>

				<section>
					<h2>Show me the code...</h2>
					<p>
						<a href="https://github.com/cfjedimaster/client-side-storage-preso">github.com/cfjedimaster/client-side-storage-preso</a>
					</p>

				</section>

				<section>
					<h2>Why store anything?</h2>
					<ul>
						<li class="fragment">Websites aren't getting skinnier</li>
						<li class="fragment">Sometimes data doesn't change</li>
						<li class="fragment">Connections sometimes aren't</li>
					</ul>
					<aside class="notes">
						HTTP isn't too expensive, obviously, since we use it all day long. But when you
						take a fancy Ajax Web 3.0 app doing 10-20 different HTTP requests in the back end,
						it can add up quickly. Consider mentioning LighthousePro experience.
				
						Your data may change rarely. For example, your company's offices.
				
						Guess what - sometimes your offline.
					</aside>
				</section>
				
				<section>
					<h2>The Game Plan</h2>
					<ul>
						<li class="fragment">Talk about the options</li>
						<li class="fragment">How to use them and where to use them</li>
						<li class="fragment">Going to show you some demos</li>
						<li class="fragment">Devtools support</li>
						<li class="fragment"><strike>Show you the support matrix</strike></li>
					</ul>
					<aside class="notes">
					</aside>
				</section>

				<section>
					<h2>Technologies</h2>
					<ul>
						<li class="fragment">Cookies (yes, really)</li>
						<li class="fragment">Web Storage</li>
						<li class="fragment">IndexedDB</li>
						<li class="fragment">Service Worker + Cache API</li>
					</ul>
					<aside class="notes">
					</aside>
				</section>

				<section data-background="img/good.jpg" data-state="intro">
					<h2>The Good</h2>
					<aside class="notes">
					Storage is damn well supported nowadays.
					</aside>
				</section>

				<section data-background="img/ugly.jpg" data-state="intro">
					<h2>The Bad</h2>
					<aside class="notes">
					Storage limits are NOT well documented.
					</aside>
				</section>

				<section>
					<h2>Cookies</h2>
					<ul>
						<li class="fragment">Oldest and probably the safest</li>
						<li class="fragment">Read/Write on both client and server (*)</li>
						<li class="fragment">Reread the above - it gets sent back and forth</li>
						<li class="fragment">Limited on both sides in terms of count/individual size</li>
						<li class="fragment">Simple values, but you could encode</li>
					</ul>
				</section>

				<section>
					<h2>Cookies - How Many?</h2>
					<ul>
						<li>According to the <a href="http://www.ietf.org/rfc/rfc2109.txt">spec:</a> (Feb 1997)</li>
						<li>At least 300 cookies (per browser)</li>
						<li>At least 4096 bytes per cookie</li>
						<li>At least 20 per unique host</li>
					</ul>
				</section>

				<section>
					<h2>Firefox</h2>
					<img src="img/ffcookie.png">
				</section>

				<section>
					<h2>Cookies - Possible Uses?</h2>
					<ul>
						<li class="fragment">Authentication/Authorization</li>
						<li class="fragment">Preferences that the server needs to know</li>
					</ul>
				</section>

				<section>
					<h2>Cookies - Code Sample</h2>
					<pre><code>
console.log(document.cookie); // show all cookies in an encoded string
document.cookie = "newOne=newValue"; // sets ONE cookie
					</code></pre>
				</section>
	
				<section>
					<h2>Cookies - Demo</h2>
					<img src="img/cookiemonster.gif">
				</section>

				<section>
					<h2>Cookies - Libraries</h2>
					<ul>
						<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/cookie/Simple_document.cookie_framework">MDN "Simple cookie framework"</a></li>
						<li><a href="https://www.npmjs.com/package/vue-cookies">vue-cookies</a></li>
					</ul>
				</section>

				<section>
					<h2>Cookies - Devtools</h2>
				</section>

				<section>
					<h2>Web Storage</h2>
					<ul>
						<li class="fragment">AKA LocalStorage</li>
						<li class="fragment">Key/value storage</li>
						<li class="fragment">Simple values (JSON FTW)</li>
						<li class="fragment">Session version (ends when you close the tab)</li>
						<li class="fragment"><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API">MDN Docs</a></li>
					</ul>
				</section>

				<section>
					<h2>Web Storage - Possible Uses?</h2>
					<ul>
						<li class="fragment">Preferences your server doesn't need to know</li>
						<li class="fragment">Search history</li>
						<li class="fragment">"Favorited" content items</li>
						<li class="fragment">Form data</li>
					</ul>
				</section>
			
				<section>
					<h2>Web Storage - How Much?</h2>
					<img src="img/ffs.png">
				</section>

				<section>
					<h2>Thank You!</h2>
					<div class="twocol">
						<ul>
							<li>raymondcamden.com</li>
							<li>@raymondcamden</li>
						</ul>
						<img src="img/ray.jpg" style="float:right">
					</div>
				</section>

			</div>
		</div>

		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				hash:true,
				slideNumber:true,
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true }
				]
			});
		</script>
	</body>
</html>
