<!DOCTYPE html>
<html>

<head>
<script>

function init() {

	if(window.localStorage) {

		//If I have data, fetch it and preset
		if(localStorage["person"]) {
			var person = JSON.parse(localStorage["person"]);
			document.querySelector("#name").value = person.name;
			document.querySelector("#age").value = person.age;
			document.querySelector("#email").value = person.email;
		}
		
        //Listen for all <input> fields and their input event
		var inputs = document.querySelectorAll("input");
		for(var i=0; i<inputs.length; i++) {
		    inputs[i].addEventListener("input", function(e) {
                e.preventDefault();
                var name = document.querySelector("#name").value;
                var age = document.querySelector("#age").value;
                var email = document.querySelector("#email").value;
                var person = {"name":name, "age":age, "email":email};
                localStorage["person"] = JSON.stringify(person);
                console.log("Did it...");
            });
		
		}

	}

}
</script>
</head>

<body onload="init()">

<form>

	<p>
	Your Name:
	<input type="text" id="name" name="name">
	</p>

	<p>
	Your Age:
	<input type="number" id="age" name="age">
	</p>

	<p>
	Your Email:
	<input type="email" id="email" name="email">
	</p>

</form>

<div>
</div>

</body>
</html>